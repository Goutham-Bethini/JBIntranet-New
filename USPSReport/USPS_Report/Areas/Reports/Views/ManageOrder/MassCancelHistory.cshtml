@model IEnumerable<USPS_Report.Areas.Reports.Models.ManageOrder.CanceledItem>
@*@model USPS_Report.Areas.Reports.Models.ManageOrder.CanceledItem*@
@using Kendo.Mvc.UI
@{
    ViewBag.Title = "MassCancelHistory";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 style="text-align:center;">Mass Cancel History</h2>

<table class="table table-responsive table-striped table-bordered" id="MassCancelHistoryid">
    <thead>
        <tr>
            <th>File Name</th>
            <th>Action By</th>
            <th>Action Date</th>
            <th>Cancel Note</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td><a href="#" class="filedownload">@item.FileName</a></td>
                <td>@item.ActionBy</td>
                <td>@item.ActionDate</td>
                <td>@item.CancelNote</td>
            </tr>
        }
    </tbody>
</table>

<script>
       $(document).ready(function () {
           $("#MassCancelHistoryid").DataTable({
           });
       });

    $(".filedownload").on('click', function () {
        @*alert("test");*@
              //console.log("text :"+$(this).text());
               var FileName = $(this).text();
               //console.log("File Name " + FileName);
                var urllink = '@Url.Action("Download", "ManageOrder", new {FileName = "-1"})';
                 urllink = urllink.replace("-1", FileName);
                 window.location.href = urllink;
              });
</script>

@*<div>
        <center>
            @(Html.Kendo().Grid<USPS_Report.Areas.Reports.Models.ManageOrder.CanceledItem>()
                            .Name("MassCancelHistory")
                            .Columns(columns =>
                            {
                                columns.Bound(t => t.FileName).HtmlAttributes(new { @class = "fileobject", @click="fun()", style = "text-decoration:underline;cursor: pointer;" }).Title("File Name");
                                columns.Bound(t => t.ActionBy).Title("Action By");
                                columns.Bound(t => t.ActionDate).Title("Action Date");
                                columns.Bound(t => t.CancelNote).Title("Cancel Note");

                            })
                            //.ToolBar(tools => tools.Excel())
                            .Sortable()
                            //.Pageable()
                            .Filterable(ftb => ftb.Mode(GridFilterMode.Menu))
                            //.Excel(excel => excel.FileName("AccountsMultipleShipDates.xlsx").AllPages(true)
                            //.Filterable(true)
                            //.ProxyURL(Url.Action("Excel_Export_Save", "AccountsMultipleShipDates")))
                            //.HtmlAttributes(new { style = "width:40%;" })
                            .Reorderable(r => r.Columns(true))
                            .Resizable(r => r.Columns(true))
                            .ColumnMenu()
                            .DataSource(dataSource => dataSource
                            .Ajax()
                            //.PageSize(25)
                            .ServerOperation(false)
                            .Model(model => model.Id(p => p.FileName))
                            .Read(read => read.Action("MassCancelHistoryData", "ManageOrder", null))
                            )
            )
        </center>
    </div>*@

@*<script type="text/javascript">
    function fun() {
        alert('testing');
    }
    //$(document).ready(function () {
    $(".fileobject").on('click', function () {
        alert("test");*@
@*var FileName = $(this).text();
    var urllink = '@Url.Action("Download", "CustomerServices", new {FileName = "-1"})';
    urllink = urllink.replace("-1", FileName);
    window.location.href = urllink;*@
@*});
        //});
    </script>*@